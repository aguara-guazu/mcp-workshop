<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 900" width="800" height="900">
  <!-- Definir estilos -->
  <defs>
    <style>
      .participant-box {
        fill: none;
        stroke: #e0e0e0;
        stroke-width: 2;
        rx: 8;
      }
      .participant-text {
        fill: #e0e0e0;
        font-family: -apple-system, Arial, sans-serif;
        font-size: 24px;
        text-anchor: middle;
      }
      .lifeline {
        stroke: #e0e0e0;
        stroke-width: 2;
        fill: none;
      }
      .phase-box {
        fill: #4a4a4a;
        rx: 4;
      }
      .phase-text {
        fill: #d0d0d0;
        font-family: -apple-system, Arial, sans-serif;
        font-size: 22px;
        text-anchor: middle;
      }
      .message-line {
        stroke: #e0e0e0;
        stroke-width: 2;
        fill: none;
      }
      .message-dashed {
        stroke-dasharray: 8,4;
      }
      .message-text {
        fill: #e0e0e0;
        font-family: -apple-system, Arial, sans-serif;
        font-size: 18px;
        text-anchor: middle;
      }
      .operation-box {
        fill: #3a3a3a;
        stroke: #5a5a5a;
        stroke-width: 2;
        rx: 4;
      }
      .operation-text {
        fill: #b0b0b0;
        font-family: -apple-system, Arial, sans-serif;
        font-size: 20px;
        text-anchor: middle;
      }
    </style>
    <!-- Definir marcador de flecha -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#e0e0e0" />
    </marker>
  </defs>

  <!-- Participante Cliente (superior) -->
  <rect x="80" y="30" width="180" height="60" class="participant-box"/>
  <text x="170" y="65" class="participant-text">Client</text>

  <!-- Participante Servidor (superior) -->
  <rect x="540" y="30" width="180" height="60" class="participant-box"/>
  <text x="630" y="65" class="participant-text">Server</text>

  <!-- Líneas de vida -->
  <line x1="170" y1="90" x2="170" y2="810" class="lifeline"/>
  <line x1="630" y1="90" x2="630" y2="810" class="lifeline"/>

  <!-- Fase de Inicialización -->
  <rect x="250" y="130" width="300" height="50" class="phase-box"/>
  <text x="400" y="160" class="phase-text">Initialization Phase</text>

  <!-- Mensaje: initialize request -->
  <line x1="170" y1="220" x2="620" y2="220" class="message-line" marker-end="url(#arrowhead)"/>
  <text x="400" y="210" class="message-text">initialize request</text>

  <!-- Mensaje: initialize response -->
  <line x1="630" y1="270" x2="180" y2="270" class="message-line message-dashed" marker-end="url(#arrowhead)"/>
  <text x="400" y="260" class="message-text">initialize response</text>

  <!-- Mensaje: initialized notification -->
  <line x1="170" y1="320" x2="620" y2="320" class="message-line message-dashed" marker-end="url(#arrowhead)"/>
  <text x="400" y="310" class="message-text">initialized notification</text>

  <!-- Fase de Operación -->
  <rect x="250" y="380" width="300" height="50" class="phase-box"/>
  <text x="400" y="410" class="phase-text">Operation Phase</text>

  <!-- Caja de operaciones normales -->
  <rect x="150" y="460" width="500" height="80" class="operation-box"/>
  <text x="400" y="505" class="operation-text">Normal protocol operations</text>

  <!-- Fase de Shutdown -->
  <rect x="250" y="580" width="300" height="50" class="phase-box"/>
  <text x="400" y="610" class="phase-text">Shutdown</text>

  <!-- Mensaje: Disconnect -->
  <line x1="170" y1="670" x2="620" y2="670" class="message-line message-dashed" marker-end="url(#arrowhead)"/>
  <text x="400" y="660" class="message-text">Disconnect</text>

  <!-- Estado: Connection closed -->
  <rect x="250" y="720" width="300" height="50" class="phase-box"/>
  <text x="400" y="750" class="phase-text">Connection closed</text>

  <!-- Participante Cliente (inferior) -->
  <rect x="80" y="810" width="180" height="60" class="participant-box"/>
  <text x="170" y="845" class="participant-text">Client</text>

  <!-- Participante Servidor (inferior) -->
  <rect x="540" y="810" width="180" height="60" class="participant-box"/>
  <text x="630" y="845" class="participant-text">Server</text>
</svg>